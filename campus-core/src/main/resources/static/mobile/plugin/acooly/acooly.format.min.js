(function($){var formatClass={fileSize:function(value){if(value<1024){return value+"byte";}else{if(value>=1024&&value<1024*1024){return Math.round(value/1024*100)/100+"K";}else{if(value>=1024*1024&&value<1024*1024*1024){return Math.round(value/1024/1024*100)/100+"M";}else{return Math.round(value/1024/1024/1024*100)/100+"G";}}}},money:function(num,yuan,symbol){if(isNaN(num)||num==null){num="0";}num=num.toString().replace(/\$|\,/g,"");if(!yuan){num=num/100;}if(!symbol){symbol="";}sign=(num==(num=Math.abs(num)));num=Math.floor(num*100+0.50000000001);cents=num%100;num=Math.floor(num/100).toString();if(cents<10){cents="0"+cents;}for(var i=0;i<Math.floor((num.length-(1+i))/3);i++){num=num.substring(0,num.length-(4*i+3))+","+num.substring(num.length-(4*i+3));}currency=(((sign)?"":"-")+num+"."+cents);return symbol+currency;},fenToWan:function(fen,symbol){var num=fen/10000;return this.money(num,false,symbol);},date:function(d,format){if(!format){format="yyyy-MM-dd HH:mm:ss";}if(typeof(d)=="string"){d=new Date(d);}return this._dateFormat(d,format);},timespan:function(span,unit){if(!unit||unit=="s"){span=span*1000;}var sm=Math.floor(span%1000);var second=Math.floor(span/1000%60);var minite=Math.floor((span/1000/60)%60);var hour=Math.floor((span/1000/3600)%24);var hourspan=(hour<10?"0"+hour:hour)+":"+(minite<10?"0"+minite:minite)+":"+(second<10?"0"+second:second);var day=Math.floor((span/1000/3600/24)%356);day=(day>0?day+"天":"");sm=(sm>0?"."+sm:"");return day+hourspan+sm;},content:function(html,maxSize){if(!html||html==""){return"";}if(!maxSize){maxSize=20;}if(html.length>maxSize){temp=html.substring(0,maxSize);html='<a href="javascript:;" title="'+html+'" onclick="$(this).children().toggle()">'+temp+'<span>...</span><span style="display:none;">'+html+"</span></a>";}return html;},link:function(url,label){if(!url||url==""){return"";}if(!label){label="查看";}var html='<a href="'+url+'" target="_blank">'+label+"</a>";return html;},template:function(str){for(var i=0;i<arguments.length-1;i++){eval("var re = /\\{"+i+"\\}/g;");str=str.replace(re,arguments[i+1]);}return str;},json:function(json,options){var reg=null,keyStyle="color:#92278f;",valStyle="color:#3ab54a;",formatted="",pad=0,PADDING="    ";options=options||{};options.newlineAfterColonIfBeforeBraceOrBracket=(options.newlineAfterColonIfBeforeBraceOrBracket===true)?true:false;options.spaceAfterColon=(options.spaceAfterColon===false)?false:true;if(typeof json!=="string"){json=JSON.stringify(json);}else{json=JSON.parse(json);json=JSON.stringify(json);}reg=/([\{\}])/g;json=json.replace(reg,"\r\n$1\r\n");reg=/([\[\]])/g;json=json.replace(reg,"\r\n$1\r\n");reg=/(\,)/g;json=json.replace(reg,"$1\r\n");reg=/(\r\n\r\n)/g;json=json.replace(reg,"\r\n");reg=/\r\n\,/g;json=json.replace(reg,",");if(!options.newlineAfterColonIfBeforeBraceOrBracket){reg=/\:\r\n\{/g;json=json.replace(reg,":{");reg=/\:\r\n\[/g;json=json.replace(reg,":[");}if(options.spaceAfterColon){reg=/\:/g;json=json.replace(reg,": ");}$.each(json.split("\r\n"),function(index,node){var i=0,indent=0,padding="";if(node.match(/\{$/)||node.match(/\[$/)){indent=1;}else{if(node.match(/\}/)||node.match(/\]/)){if(pad!==0){pad-=1;}}else{if(node&&node!=""){var pair=node.split(":");node='<span style="'+keyStyle+'">'+pair[0]+'</span>:<span style="'+valStyle+'">'+pair[1]+"</span>";}indent=0;}}for(i=0;i<pad;i++){padding+=PADDING;}formatted+=padding+node+"\r\n";pad+=indent;});return formatted;},mask:function(value){},_dateFormat:function(dateObject,format){var o={"M+":dateObject.getMonth()+1,"d+":dateObject.getDate(),"H+":dateObject.getHours(),"m+":dateObject.getMinutes(),"s+":dateObject.getSeconds(),"q+":Math.floor((dateObject.getMonth()+3)/3),S:dateObject.getMilliseconds()};if(/(y+)/.test(format)){format=format.replace(RegExp.$1,(dateObject.getFullYear()+"").substr(4-RegExp.$1.length));}for(var k in o){if(new RegExp("("+k+")").test(format)){format=format.replace(RegExp.$1,RegExp.$1.length==1?o[k]:("00"+o[k]).substr((""+o[k]).length));}}return format;}};$.extend($.acooly,{format:formatClass});})(jQuery);